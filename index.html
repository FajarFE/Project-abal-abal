<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="assets/owlcarousel/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/owlcarousel/assets/owl.theme.default.min.css">
  </head>
  <body>
    
    <nav class="navbar navbar-expand-lg navbar-light bg-warning">
        <div class="container">
            <a class="navbar-brand" href="#">Navbar</a>
            
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
              <ul class="navbar-nav">
                <li class="nav-item active">
                  <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Features</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Pricing</a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-expanded="false">
                    Dropdown link
                  </a>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </li>
              </ul>
            </div>
            
        </div>
    </nav>
    <section class="container-fluid p-0 thumbnails">
      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="https://images.unsplash.com/photo-1660144476735-20e252c07044?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="https://images.unsplash.com/photo-1660112358440-1b37b7644e0a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="https://images.unsplash.com/photo-1660159211965-2be37abdc121?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80" class="d-block w-100" alt="...">
          </div>
        </div>
       <button class="carousel-control-prev" type="button" data-target="#carouselExampleControls" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-target="#carouselExampleControls" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </button>
      </div>
    </section>
    <section class="container-fluid carousel-bottom-costum">
            <div class="owl-carousel owl-theme">
                <div class="item">
                    <img class="rounded" src="https://images.unsplash.com/photo-1434725039720-aaad6dd32dfe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1342&q=80" alt="" class="src">
                </div>
                <div class="item">
                    <img class="rounded" src="https://images.unsplash.com/photo-1434725039720-aaad6dd32dfe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1342&q=80" alt="" class="src">
                </div>
                <div class="item">
                    <img class="rounded" src="https://images.unsplash.com/photo-1434725039720-aaad6dd32dfe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1342&q=80" alt="" class="src">
                </div>
                <div class="item">
                    <img class="rounded" src="https://images.unsplash.com/photo-1434725039720-aaad6dd32dfe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1342&q=80" alt="" class="src">
                </div>
                <div class="item">
                    <img class="rounded" src="https://images.unsplash.com/photo-1434725039720-aaad6dd32dfe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1342&q=80" alt="" class="src">
                </div>
                <div class="item">
                    <img class="rounded" src="https://images.unsplash.com/photo-1434725039720-aaad6dd32dfe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1342&q=80" alt="" class="src">
                </div>
                
            </div>
    </section>
<section class="container mt-5">
  <ul class="nav nav-pills" id="pills-tab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="pills-home-tab" data-toggle="pill" data-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Trending Movies</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pills-profile-tab" data-toggle="pill" data-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Coming Soon</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pills-contact-tab" data-toggle="pill" data-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Contact</button>
    </li>
    <form class="form-inline ">
      <input class="form-control mr-sm-2 mt-2" type="search" placeholder="Search" aria-label="Search" value="" id="search-movie-content">
      <button class="btn btn-outline-success my-2 my-sm-0" type="button" id="button-search-content"> Search </button>
    </form>
  </ul>
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
      <div class="row" id="tranding_content">
      </div>
    </div>
    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">...</div>
    <div class="row" id="upcoming_content">
    </div>
    <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">...</div>
  </div>
</section>
          <!-- Modal -->
    <div class="modal fade" id="modal-search-movie" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl">
      <div class="modal-content">
          <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Pencarian ditemukan <b id="search-count"></b> Film</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body">
              <div class="row" id="modal-search">

              </div>
          </div> 
      </div>
      </div>
  </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

    <script src="assets/owlcarousel/owl.carousel.js"></script>
    <script>
        $(document).ready(function() {
          var owl = $('.owl-carousel');
          owl.owlCarousel({
            margin: 10,
            nav: false,
            loop: true,
            center:true,
            responsive: {
              0: {
                items: 1
              },
              600: {
                items: 3
              },
              1000: {
                items: 5
              },
            }
          })
          var url_tranding = 'https://api.themoviedb.org/3/discover/movie?api_key=a099c0e3a24beb539ecd69105e959f30';
          var url_upcoming = 'https://api.themoviedb.org/3/movie/upcoming?api_key=a099c0e3a24beb539ecd69105e959f30';
          var url_search  = 'https://api.themoviedb.org/3/search/movie?api_key=a099c0e3a24beb539ecd69105e959f30&query=';

        $.get( url_tranding, function( res ) {
          var content = '';
            console.log( res );
            res.results.forEach(el => {
              content += `
                <div class="col-sm-4 mb-2 mt-2">
                  <div class="card">
                    <img src="https://image.tmdb.org/t/p/w500/${el.poster_path}" class="card-img-top" alt="">
                        <div class="card-body">
                          <div class="d-flex justify-content-between">
                              <i class="bi bi-star-fill btn btn-warning text-white"> ${el.vote_average} Star</i>
                              <i class="bi bi-people-fill btn btn-warning text-white p-2"> ${el.popularity}</i>
                          </div>
                          <h5 class="card-title text-center">${el.title} </h5>
                          <p>${el.overview.substr(0,120)}....</p>
                          <a href="#" class="btn btn-primary float-right">Detail</a>
                        </div>
                  </div>
                </div>`
              

            });
            $('#tranding_content').html(content);
          });

          $.get( url_upcoming, function( res ) {
          var content = '';
            console.log( res );
            res.results.forEach(el => {
              content += `
                <div class="col-sm-4 mb-2 mt-2">
                  <div class="card">
                    <img src="https://image.tmdb.org/t/p/w500/${el.poster_path}" class="card-img-top" alt="">
                        <div class="card-body">
                          <div class="d-flex justify-content-between">
                              <i class="bi bi-star-fill btn btn-warning text-white"> ${el.vote_average} Star</i>
                              <i class="bi bi-people-fill btn btn-warning text-white p-2"> ${el.popularity}</i>
                          </div>
                          <h5 class="card-title text-center">${el.title} </h5>
                          <p>${el.overview.substr(0,120)}....</p>
                          <a href="#" class="btn btn-primary float-right">Detail</a>
                        </div>
                  </div>
                </div>`
              

            });
            $('#upcoming_content').html(content);
          });
          $('#button-search-content').on('click', function(){
          searchMovies()
          })

          function searchMovies(){
                        var value = $('#search-movie-content').val()
                          console.log(value)
                          $('#modal-search-movie').modal('show')
                          $.get(url_search+value, (res) => {
                            console.log(res)
                            var search_content = '';
                            res.results.forEach(el => {
                              search_content += `
                              <div class="col-sm-4 mb-2 mt-2">
                              <div class="card">
                                <img src="https://image.tmdb.org/t/p/w500/${el.poster_path}" class="card-img-top" alt="">
                                    <div class="card-body">
                                      <di v class="d-flex justify-content-between">
                                          <i class="bi bi-star-fill btn btn-warning text-white"> ${el.vote_average} Star</i>
                                          <i class="bi bi-people-fill btn btn-warning text-white p-2"> ${el.popularity}</i>
                                      </div>
                                      <h5 class="card-title text-center">${el.title} </h5>
                                      <p>${el.overview.substr(0,120)}....</p>
                                      <a href="#" class="btn btn-primary float-right">Detail</a>
                                    </div>
                              </div>
                            </div>`
                            })
                            $('#modal-search').html(search_content);
                            $('#search-count').text(res.results.length);
                          })
                                    }

        })



      </script>
    
  </body>
</html>